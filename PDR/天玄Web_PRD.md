# 产品需求文档 (PRD) - 天玄 Web ✨

## 1. 引言/背景 (Introduction/Background)

天玄 Web (TianXuan Web) 是一款专为Z世代（90后、00后）设计的网页版玄学决策助手。我们洞察到年轻一代在快速变化的世界中，既对古老智慧抱有好奇，也追求个性化、趣味化和即时性的体验。本项目旨在将传统玄学文化通过现代技术与创新设计，重塑为启迪生活、辅助决策、带来乐趣的智慧工具，解决年轻用户在信息爆炸时代面临的决策困惑和对个性化精神慰藉的需求。

## 2. 产品愿景与目标 (Product Vision & Goals)

**产品愿景：**
我们致力于将传统玄学文化从刻板印象中解放出来，通过现代技术与创新设计，将其重塑为启迪生活、辅助决策、带来乐趣的智慧工具。天玄 Web 旨在成为年轻用户探索自我、应对挑战、链接古今的精神伙伴，让每一次选择都充满"玄"妙的乐趣与洞见。

**核心理念：**
告别宿命论，拥抱可能性。我们相信玄学是开启思路的钥匙，而非命运的定论。

**产品目标：**
*   **短期目标 (MVP - Alpha):**
    *   上线核心占卜功能（六十四卦、玄选两难、今日运势、笅杯占卜），打磨核心用户体验。
    *   吸引首批种子用户，验证产品核心价值。
*   **中期目标 (Beta - 1.0):**
    *   上线个性化功能（玄学画像、DIY开运潮物）和AI辅助功能（AI解梦师/智能塔罗解读）。
    *   实现用户数据持久化与基础后端服务整合。
    *   提升用户活跃度和留存率。
*   **长期目标 (2.0 及以后):**
    *   构建社区生态（玄学知识挑战、心情打卡、漂流瓶/心愿墙）。
    *   探索更多智能化、个性化服务，成为Z世代玄学文化体验的首选平台。
    *   实现商业化探索（如周边、增值服务）。

## 3. 目标用户群体与画像 (Target Audience & Personas)

我们主要服务于以下特征的Z世代年轻人群：

*   **好奇探索者 (The Curious Explorer):**
    *   特征：对星座、塔罗、易经、MBTI等各类“玄学”或自我认知工具抱有浓厚兴趣，乐于尝试新鲜事物，渴望通过不同视角了解自己和世界。
    *   需求：有趣、易懂、多样化的玄学内容和工具；探索未知的乐趣。
*   **决策辅助寻求者 (The Decision Navigator):**
    *   特征：在学业、职业发展、人际关系或日常选择中，偶尔感到迷茫或需要一点“灵感”，希望获得轻松、有趣的指引和积极的心理支持，而非严肃的“命运判决”。
    *   需求：在困惑时获得启发性参考；积极的心理暗示；便捷的决策辅助工具。
*   **数字原生代潮玩者 (The Digital Native & Trend Follower):**
    *   特征：追求个性化、高颜值、智能化和娱乐性的在线体验，乐于在社交媒体分享独特有趣的发现。
    *   需求：美观的界面设计；流畅的互动体验；可分享的个性化内容；新奇有趣的功能。

## 4. 产品范围与核心功能列表 (Product Scope & Core Feature List)

### 4.1 已完成功能 (MVP 核心)
1.  **六十四卦占卜系统:**
    *   易经铜钱占卜法
    *   梅花易数法
    *   随机起卦法
    *   六十四卦浏览器 (卦象、爻辞查询)
2.  **玄选两难系统:**
    *   用户输入两个选项进行分析对比。
    *   基于卦象生成决策建议。
3.  **功能入口优化:**
    *   完善导航系统，添加易经占卜下拉菜单。
    *   在主页和各功能页面添加直观的占卜方法入口。

### 4.2 规划中功能 (按阶段划分)

**阶段一：奠定基石 - 核心体验打磨**
1.  **今日运势模块:**
    *   基本运势生成算法。
    *   用户生日信息（可选）采集。
    *   开运/避坑小提示生成。
    *   运势页面UI设计与实现。
2.  **笅杯占卜功能:**
    *   笅杯模拟动画开发。
    *   笅杯结果解读系统。
    *   与现有占卜系统整合。

**阶段二：深度链接 - 个性化与数据沉淀**
1.  **玄学画像系统:**
    *   用户基础信息采集（生日等，可选）。
    *   本命星盘/八字简析算法（年轻化解读）。
    *   能量趋势分析模块（年度/月度）。
    *   专属守护符号/图腾生成器。
2.  **DIY开运潮物:**
    *   玄学元素库构建（幸运色、符号、符文、塔罗元素等）。
    *   用户自由组合规则设计。
    *   电子御守生成器。
    *   手机壁纸定制功能。
3.  **数据持久化:**
    *   用户数据存储系统 (Supabase/Firebase)。
    *   历史占卜记录功能。
    *   收藏功能（如收藏卦象、运势解读、DIY作品）。

**阶段三：智慧升级 - AI驱动的创新体验**
1.  **AI解梦师/智能塔罗解读:**
    *   塔罗牌组件开发（抽牌、展示）。
    *   DeepSeek API (或其他类似模型) 集成，用于解读梦境或塔罗牌。
    *   针对玄学场景的提示词工程优化。
    *   心情打卡系统（关联塔罗）。
2.  **后端服务整合:**
    *   Supabase/Firebase 深度整合。
    *   用户认证系统 (注册、登录、账户管理)。
    *   云函数开发 (用于AI集成、复杂业务逻辑)。
3.  **智能匹配系统（预研）:**
    *   基于玄学画像的匿名匹配算法研究。
    *   用户隐私保护方案设计。

**阶段四：生态构建 - 社区与持续吸引**
1.  **玄学知识大挑战:**
    *   玄学相关知识题库建设。
    *   趣味答题闯关模式设计。
    *   游戏化界面与排行榜。
2.  **心情塔罗打卡 (功能深化):**
    *   打卡日历与心情曲线。
    *   成就系统设计与虚拟奖励机制。
3.  **玄境漂流瓶/心愿祈福墙:**
    *   匿名分享困惑、许下心愿的社区互动功能。
    *   基础内容审核机制。
    *   分享与祝福传递功能。

### 4.3 核心功能场景化描述

1.  **🔮 探索决策智慧：互动场景指引**
    *   **"To be, or not to be: that is the question:"** 面临选择时，输入困惑，获取结合趣味玄学指引的选项分析。
    *   **"今天我左眼皮在跳"：** 每日专属运势签及轻松可执行的开运/避坑小提示。结合用户（可选）的生日信息或每日随机抽取"运势签"，给出一些轻松的、可执行的当日小建议。
    *   **"待我掐指一算"：** 供用户选择3种传统占卜方式：随机起卦法、易经铜钱占卜法、梅花易数法。
    *   **"我跟关圣帝君请示过"：** 笅杯占卜，观察正反面来定吉凶。
2.  **🌌 发现真我：个性化玄学档案**
    *   **"我的玄学画像"：** 生成专属的、现代感的"玄学画像"，解读本命亮点与能量趋势。包含："本命星盘/八字简析"（年轻化解读），"年度/月度能量趋势"，"专属守护符号/图腾"。
    *   **"DIY我的开运潮物"：** 提供多种玄学元素，用户自由组合，生成个性化的电子御守或手机壁纸。
3.  **🤖 AI灵感伙伴：智能解读与陪伴**
    *   **"AI解梦师 / 智能塔罗解读"：** 用户每日打卡记录心情、抽一张"心情塔罗牌"，系统通过AI给予简短的反馈和鼓励。
    *   **"智能匹配能量伙伴"（待未来考虑）：** 基于玄学画像匿名匹配潜在"玄友"。
4.  **🎮 玄趣乐园：游戏化互动探索**
    *   **"玄学知识大挑战"（待未来开发）：** 通过趣味答题闯关，了解玄学文化。
    *   **"每日运势/心情塔罗打卡"：** 记录心情，获取反馈，解锁成就。
    *   **"玄境漂流瓶 / 心愿祈福墙"：** 匿名分享困惑、许下心愿，传递祝福。

## 5. 用户故事与验收标准 (User Stories & Acceptance Criteria)

*(此部分将在独立的用户故事文档中详细阐述，此处列举核心示例)*

**示例用户故事 (六十四卦占卜 - 易经铜钱法):**
*   **As a** 好奇探索者，
    **I want to** 通过模拟传统的铜钱起卦方式进行占卜，
    **So that** 我能体验到易经占卜的仪式感并获得针对我当前问题的卦象指引。
*   **验收标准:**
    1.  用户可以在占卜页面选择“易经铜钱占卜法”。
    2.  界面清晰引导用户进行6次模拟掷铜钱的操作。
    3.  每次掷铜钱后，系统能正确记录爻象（老阳、少阳、老阴、少阴）。
    4.  6次操作完成后，系统能正确生成本卦和变卦（如有）。
    5.  系统能展示生成的卦象名称、卦辞、爻辞（包括变爻）。
    6.  结果页面提供对卦象和爻辞的年轻化、易懂的解读。
    7.  用户可以将占卜结果分享或保存（后续功能）。

**示例用户故事 (今日运势):**
*   **As a** 数字原生代潮玩者，
    **I want to** 每天打开应用时能看到一个专属的、有趣的今日运势签，
    **So that** 我能获取一些轻松的当日小建议，并感觉这一天有个积极的开始。
*   **验收标准:**
    1.  用户访问“今日运势”模块或首页特定区域时，系统能展示当日运势。
    2.  如果用户提供了生日信息，运势可以基于此信息有一定个性化（算法定义）。
    3.  如果用户未提供生日，系统随机抽取“运势签”。
    4.  运势签包含一个总体的运势描述（如“小吉”、“平平”）。
    5.  运势签包含1-2条具体的开运/避坑小提示（如“宜穿蓝色”、“忌与人争执”）。
    6.  运势签的文案风格轻松、幽默、接地气。
    7.  用户可以方便地分享今日运势签到社交媒体。

## 6. 功能规格详述 (Functional Specifications - As Needed)

### 6.1 六十四卦生成引擎
*   **算法核心：** 结合确定性（基于用户输入选项的字符特征分析，主要用于“玄选两难”等场景）与仪式感（模拟传统占卜的交互流程，如铜钱法、梅花易数法中的随机性）。
*   **输入：** 用户问题描述、选项（如有）、起卦方式选择、用户操作（如掷铜钱、报数）。
*   **输出：** 本卦、变卦（如有）、卦辞、爻辞、以及针对性的解读。
*   **个性化关联：** 对于“玄选两难”，算法会尝试从用户输入的选项文本中提取关键词或情感倾向，结合卦象进行更具相关性的解读。
*   **仪式感交互：**
    *   **铜钱法：** 模拟真实铜钱的正反面组合，通过6次投掷形成六爻。
    *   **梅花易数法：** 允许用户输入数字或根据时间起卦，遵循梅花易数规则计算卦象。
    *   **随机起卦法：** 纯随机生成卦象，提供快速体验。

### 6.2 AI解梦师 / 智能塔罗解读
*   **用户输入：** 梦境描述文本 或 选择的塔罗牌。
*   **AI集成：** 通过后端安全调用DeepSeek API。
*   **提示词工程：** 设计专门的Prompt，引导AI模型生成符合玄学语境、积极引导、年轻化风格的解读。
    *   例如，对于解梦，Prompt可能包含：“你是一位精通周易和心理学的AI解梦师，请用年轻化、积极引导的语言解读以下梦境：[用户梦境]”。
    *   例如，对于塔罗，Prompt可能包含：“你是一位智慧的AI塔罗解读师，请结合[塔罗牌名]的牌意，用简洁、鼓励的语言给用户一些当下的启示。”
*   **输出：** 结构化的解读文本，可能包含梦境象征分析、情感关怀、积极建议或塔罗牌启示。
*   **交互流程：** 用户输入 -> 后端调用AI -> 前端展示解读结果。

## 7. 非功能性需求 (Non-Functional Requirements)

*   **性能 (Performance):**
    *   页面加载时间：主要页面在3秒内完成加载。
    *   动画流畅性：使用Anime.js实现的动画效果应流畅不卡顿，帧率稳定。
    *   API响应时间：后端API平均响应时间控制在500ms以内。
*   **可用性 (Usability):**
    *   导航清晰，用户易于找到所需功能。
    *   交互流程直观，学习成本低。
    *   在不同设备和主流浏览器上保持良好的一致性体验 (响应式设计)。
    *   提供必要的帮助提示和用户引导。
*   **安全性 (Security):**
    *   用户数据（如生日、历史记录）在传输和存储过程中加密。
    *   AI API Key等敏感信息严禁在前端暴露，必须通过后端调用。
    *   防止常见的Web攻击（如XSS, CSRF）。
*   **可扩展性 (Scalability):**
    *   后端架构设计应能支持未来用户量和功能模块的增长。
    *   代码模块化，便于维护和功能迭代。
*   **兼容性 (Compatibility):**
    *   前端兼容主流现代浏览器（Chrome, Firefox, Safari, Edge 最新版本）。
    *   考虑移动端浏览器适配。
*   **数据隐私 (Data Privacy):**
    *   明确告知用户数据收集的范围和用途。
    *   用户可选是否提供敏感信息（如生日）。
    *   对于“智能匹配”等涉及用户数据的预研功能，严格遵守隐私保护原则。

## 8. 设计原则与交互指南 (Design Principles & Interaction Guidelines - High Level)

*   **视觉风格 (UI Design):**
    *   拥抱现代设计趋势，融合简约、清新、赛博朋克或国潮元素，打造符合Z世代审美的视觉界面。
    *   色彩运用：考虑使用能唤起神秘感、宁静感或活力的色彩搭配，避免传统玄学应用的沉闷感。
    *   字体选择：易读且具有现代感的字体。
    *   图标设计：简洁、表意明确，风格统一。
*   **交互体验 (UX Design):**
    *   追求极致的流畅与易用性。
    *   通过直观的导航、清晰的流程引导以及富有创意的动画效果（由Anime.js等技术驱动），创造沉浸式、愉悦的用户互动体验。
    *   反馈及时：用户的操作应有明确的视觉或听觉反馈。
    *   减少干扰：避免不必要的弹窗和干扰信息，让用户专注于核心体验。
*   **内容呈现 (Content & Tone):**
    *   采用幽默、接地气、富有网感的文案风格。
    *   使用年轻用户熟悉的表达方式，让深奥的玄学知识变得亲切易懂，引发情感共鸣。
    *   鼓励积极思考，避免宿命论和迷信引导。

## 9. 发布标准/上线清单 (Release Criteria / Launch Checklist - Conceptual)

*   **MVP版本 (当前):**
    *   核心功能（六十四卦、玄选两难）稳定运行，无严重BUG。
    *   主要交互流程通畅。
    *   已完成功能入口优化。
*   **Alpha版本 (阶段一完成):**
    *   今日运势模块、笅杯占卜功能按设计完成并通过测试。
    *   核心体验打磨完成，UI/UX符合基本要求。
    *   关键性能指标达标。
    *   收集首批用户反馈的渠道已建立。
*   **Beta版本 (阶段二完成):**
    *   玄学画像系统、DIY开运潮物功能按设计完成并通过测试。
    *   数据持久化功能（用户数据、历史记录、收藏）稳定运行。
    *   完成小范围用户测试，并根据反馈进行调整。
    *   安全性检查通过。
*   **1.0版本 (阶段三核心功能完成):**
    *   AI解梦师/智能塔罗解读功能稳定上线。
    *   后端服务（Supabase/Firebase）整合完毕，用户认证系统可用。
    *   产品具备公开使用的基本条件，文档完善。
    *   市场推广初步准备。
*   **2.0版本 (阶段四完成):**
    *   社区功能（知识挑战、心情打卡深化、漂流瓶/心愿墙）上线。
    *   产品功能完整，用户体验持续优化。
    *   具备全面的市场推广和运营能力。

## 10. 未来展望/潜在迭代方向 (Future Considerations / Potential Iterations)

*   **深化AI应用：**
    *   更智能的个性化推荐（如根据用户历史推荐占卜方式或内容）。
    *   AI辅助生成更丰富的玄学解读内容。
    *   探索AI在社区互动中的应用（如智能话题引导）。
*   **增强社交与社区：**
    *   “智能匹配能量伙伴”功能的正式开发与上线（严格注重隐私）。
    *   用户小组、话题讨论区。
    *   用户生成内容（UGC）的激励与管理。
*   **拓展玄学工具与内容：**
    *   引入更多元化的玄学工具（如生命灵数、紫微斗数简版等）。
    *   与占星、MBTI等其他流行自我探索工具的趣味结合。
    *   更丰富的玄学知识库和科普内容。
*   **商业化探索：**
    *   个性化开运潮物实体化定制与销售链接。
    *   高级会员服务（如更深度解读、去广告、专属功能）。
    *   与相关品牌进行跨界合作。
*   **多端体验：**
    *   考虑PWA支持，提供接近原生应用的体验。
    *   未来可能的小程序版本。

---
*文档版本：1.0*
*最后更新日期：[当前日期]*