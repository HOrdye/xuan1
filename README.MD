# 天玄 Web (TianXuan Web) ✨ - 你的专属网页版玄学决策助手

### 项目简介

欢迎来到天玄 Web！这是"天玄"项目的网页版应用，专为90后、00后年轻人打造的玄学决策助手。我们相信，玄学不是宿命的枷锁，而是启迪思路、辅助决策的有趣工具。天玄 Web 致力于通过现代化的网页技术，为你提供一个在浏览器中即可轻松访问的、充满互动乐趣的玄学体验平台。

我们的核心理念：**告别刻板，拥抱"玄"妙乐趣，让每一次选择都有迹可循！**

## 🎯 项目设计优化与功能权限规划

本项目将以用户基础信息和命理功能为核心，通过区分访客、免费注册用户和付费用户的功能使用权限，吸引流量、提升用户粘性并实现商业价值。

### 1. 核心底层：用户基础信息与玄学画像系统

用户基础信息将作为项目的基石，通过收集用户的生日、出生时间、出生地点等关键数据，结合强大的AI能力，构建不同深度的玄学画像。这些画像将作为提升各项占卜和决策辅助准确性的基础。

#### 初级玄学画像
- **对象**：免费注册用户
- **内容**：基于用户基本信息，通过简易分析算法（如生辰八字/本命星盘基础分析），提供初步的玄学洞察和能量趋势分析，解读用户性格亮点与潜能，并可能生成专属守护符号。

#### 深度玄学画像
- **对象**：付费用户
- **内容**：融合东方（生辰八字、紫微斗数）与西方（星座、星象占卜）的命理体系。利用AI生成高度个性化、深度分析的玄学画像。此画像将作为付费用户使用其他所有功能（如易经占卜、塔罗占卜、今日运势等）时，提升解读准确性、深度和个性化体验的关键基础。

### 2. 用户功能使用权限与体验分级

项目将根据用户类型提供差异化的功能权限，以实现吸引流量、提升用户粘性和增加付费转化。

#### 访客（未注册用户）
**目的**：免费体验核心功能，吸引潜在用户，展示产品价值。

**功能权限**：
- 免费使用2次：
  - 六十四卦占卜：包括易经铜钱占卜法、梅花易数法、随机起卦法
  - 筊杯占卜：体验传统民俗占卜
  - 塔罗牌：标准78张牌库，故事化解读系统
  - 玄选两难：基于易经智慧分析和建议，提供两个选项的对比分析
- 数据处理：允许保存和分享占卜结果，方便用户传播和推荐

#### 免费注册用户
**目的**：鼓励用户注册，通过个性化体验提升粘性，为付费转化奠定基础。

**功能权限**：
- 每日额外免费使用5次：各类占卜和决策辅助功能（易经占卜、筊杯占卜、塔罗、玄选两难）
- 今日运势：可查看基础版"今日运势"模块，提供每日专属挑战/机遇，增加趣味性
- 初级玄学画像：可保存其基本信息并生成初级玄学画像
- 准确性提升：基于初级玄学画像，提升各类占卜和决策辅助的准确性和个性化程度
- 数据管理：访问用户数据存储系统，使用历史记录和收藏功能

#### 付费用户
**目的**：提供极致的个性化和专业服务，满足深度玄学爱好者的需求，实现核心商业价值。

**功能权限**：
- 无限次使用所有占卜和决策辅助功能（易经占卜、筊杯占卜、塔罗、玄选两难、今日运势）
- 深度玄学画像：通过命理功能，融合东西方命理体系，由AI生成其深度玄学画像
- 显著提升准确性：以此深度玄学画像为基础，进一步大幅提升用户使用易经占卜、塔罗占卜、今日运势等所有功能的准确性、深度和个性化体验
- AI解读：优先体验更高级的AI解读服务，例如AI解梦师/智能塔罗解读
- 独享内容与服务：
  - 可定制DIY开运潮物，如电子御守、手机壁纸
  - 优先体验未来开发的高级功能，如智能匹配能量伙伴、玄学知识大挑战

### 3. 技术实现与未来展望

- **用户认证与权限管理**：构建基于用户角色的强大认证与授权体系，确保功能权限的有效分配和管理。项目中已规划使用 Supabase/Firebase 等后端服务进行用户认证。
- **数据存储与管理**：优化和扩展数据库 schema，以支持用户详细命理信息和不同深度玄学画像的存储。已规划用户数据存储系统、历史功能和收藏功能。
- **AI集成与优化**：充分利用项目已集成的多语言大模型（LLM）供应商（如通义千问、OpenAI、文心一言、Claude），针对不同用户等级提供差异化的AI解读服务，特别是玄学画像的生成和个性化占卜解读。这将涉及更高级的提示工程和模型优化。
- **功能开关与限流**：在前后端层面实现精细化的功能开关和使用次数限制，以支持灵活的权限控制。
- **升级路径设计**：设计清晰、便捷的用户升级路径，引导访客注册、免费用户付费，提升用户生命周期价值。

本项目致力于打造一个集传统玄学智慧与现代AI技术于一体的个性化决策辅助平台，为不同需求的用户提供卓越的玄学体验。

## 开发计划 📋

### 已完成功能 ✅
1. **六十四卦占卜系统**
   - 易经铜钱占卜法
   - 梅花易数法
   - 随机起卦法
   - 六十四卦浏览器

2. **玄选两难系统**
   - 两个选项分析对比
   - 基于卦象的决策建议

3. **功能入口优化**
   - 完善导航系统，添加易经占卜下拉菜单
   - 在主页和各功能页面添加直观的占卜方法入口
   - 优化用户发现和访问功能的路径

4. **标准塔罗牌系统** ⭐ **最新完成**
   - 基于韦特塔罗牌（Rider-Waite Tarot）的标准78张牌库
   - 完整的大阿尔卡纳（22张）和小阿尔卡纳（56张）
   - 传统塔罗牌解读理论，包括：
     - 元素学分析（火、水、风、土）
     - 数字学洞察
     - 牌位组合解读
     - 逆位牌解释
   - 多种经典牌阵：三张牌阵、凯尔特十字、关系牌阵
   - **重要修复**：完全移除易经理论混用，确保塔罗解读的纯正性和专业性
   - **数据完整性**：✅ 已验证完整的78张塔罗牌数据，包含所有必要字段和元数据

### 开发阶段 (按优先级排序) 🚀

#### 第一阶段：核心功能完善 (1-2周)
1. **今日运势模块**
   - 基本运势生成算法开发
   - 用户生日信息（可选）采集
   - **创意升级：打造更具吸引力的"今日运势"体验**
     - **核心内容创新："每日专属挑战/机遇"**：摒弃传统笼统的运势描述，每日为用户生成一个独特、轻松、可执行的"小挑战"或"小机遇"，将运势转化为具体的行动指引和生活小确幸。例如："挑战：今日尝试用左手完成一件小事"、"机遇：留意身边穿着条纹服饰的人，可能会带来好消息"。内容由LLM结合用户个性化信息生成，旨在提供新鲜感和价值感。
     - **呈现方式创新："趣味解锁"**：增加获取运势的仪式感和趣味性。用户可能需要通过点击"运势能量球"或"神秘信笺"等交互元素，以动画效果逐步"解锁"今日的主题、挑战/机遇、以及相关的趣味解读（可适度融入网络热梗，增加亲切感）。
     - **用户价值**：从"看个热闹"到"获得启发"，让用户在轻松有趣的互动中，感受到每日运势的独特性和对自己生活的积极暗示。
   - 开运/避坑小提示生成（可融入"挑战/机遇"中或作为补充）
   - 运势页面UI设计与实现（重点考虑新交互模式的视觉呈现）

2. **笅杯占卜功能**
   - 笅杯模拟动画开发
   - 笅杯结果解读系统
   - 与现有占卜系统整合

#### 第二阶段：个性化体验 (2-3周)
1. **玄学画像系统**
   - 用户基础信息采集
   - 本命星盘/八字简析算法
   - 能量趋势分析模块
   - 专属守护符号生成器

2. **DIY开运潮物**
   - 玄学元素库构建
   - 组合规则设计
   - 电子御守生成器
   - 壁纸定制功能

3. **数据持久化**
   - 用户数据存储系统
   - 历史记录功能
   - 收藏功能实现

#### 第三阶段：AI赋能 (3-4周)
1. **AI解梦师/智能塔罗解读**
   - 塔罗牌组件开发
   - DeepSeek API集成
   - 提示词优化
   - 心情打卡系统

2. **后端服务整合**
   - Supabase整合
   - 用户认证系统
   - 云函数开发

3. **智能匹配系统（预研）**
   - 匹配算法研究
   - 隐私保护方案设计

#### 第四阶段：游戏化互动 (2-3周)
1. **玄学知识大挑战**
   - 题库建设
   - 关卡设计
   - 游戏化界面开发

2. **心情塔罗打卡**
   - 打卡界面开发
   - 成就系统设计
   - 奖励机制实现

3. **玄境漂流瓶/心愿祈福墙**
   - 社区互动功能
   - 内容审核系统
   - 分享功能

### 技术实现计划 🛠️

#### 前端架构
- **布局规划**：使用Tailwind CSS维护一致的UI风格
- **状态管理**：使用Pinia管理全局状态，特别是用户偏好和历史记录
- **组件设计**：采用原子化设计，开发可复用的卡片、按钮、输入框等基础组件
- **动画系统**：引入Anime.js，重点优化占卜流程的动画效果

#### 后端整合
- **数据存储**：Supabase作为主要后端服务
- **API设计**：构建RESTful API服务
- **AI集成**：通过云函数调用DeepSeek API，保护API密钥

#### 部署与测试
- **自动化测试**：单元测试和E2E测试
- **CI/CD**：GitHub Actions自动化部署
- **性能优化**：代码分割、懒加载、图片优化

### 阶段性里程碑 🏁

1. **MVP版本**（当前）：已完成六十四卦核心功能
2. **Alpha版本**（+4周）：完成第一阶段所有功能
3. **Beta版本**（+8周）：完成第二阶段，开始用户测试
4. **1.0版本**（+12周）：完成第三阶段核心功能，可公开使用
5. **2.0版本**（+16周）：完成所有功能，全面上线

## 核心功能 🚀

天玄 Web 将提供以下核心功能：

1.  **🔮 互动式场景决策模块：**
    * "To be, or not to be: that is the question:"：面临选择时，输入困惑，获取结合趣味玄学指引的选项分析。
    * "今天我左眼皮在跳"：每日专属运势签及轻松可执行的开运/避坑小提示。**（优化方向：升级为更具创意和互动性的"每日挑战/机遇"模式，通过趣味动画解锁，内容由AI生成，更贴近年轻用户心理，提供独特价值。）**结合用户（可选）的生日信息或每日随机抽取"运势签"，给出一些轻松的、可执行的当日小建议，例如"宜穿绿色"、"宜喝一杯燕麦拿铁"、"忌与人争论鸡毛蒜皮的小事"。
    * "待我掐指一算"：供用户选择3种传统占卜方式：随机起卦法、易经铜钱占卜法、梅花易数法
    * "我跟关圣帝君请示过"：笅杯占卜，观察正反面来定吉凶
2.  **🌌 个性化与定制化玄学体验：**
    * "我的玄学画像"：生成专属的、现代感的"玄学画像"，解读本命亮点与能量趋势。画像可以包含："本命星盘/八字简析"： 用更现代化、年轻化的语言解读，突出性格优势、潜能和需要注意的小"bug"。"年度/月度能量趋势"： 简明扼要地提示近期的能量走向和机会点。"专属守护符号/图腾"： 根据用户画像生成独特的、可分享的守护符号或可爱图腾。
    * "DIY我的开运潮物"：提供多种玄学元素（如幸运色、符号、符文、塔罗牌元素等），用户可以自由组合，生成个性化的电子御守或手机壁纸。未来可链接周边饰品。
3.  **🤖 AI赋能的智能解读与陪伴：**
    * "AI解梦师 / 智能塔罗解读"：用户每日打卡记录心情、抽一张"心情塔罗牌"，系统给予简短的反馈和鼓励。长期坚持可以解锁特殊成就或虚拟奖励。
    * "智能匹配能量伙伴"（待未来考虑开发模块，需注重隐私）：基于玄学画像匿名匹配潜在"玄友"。
4.  **🎮 趣味性与游戏化互动：**
    * "玄学知识大挑战"（待未来开发）：通过趣味答题闯关，了解玄学文化。
    * "每日运势/心情塔罗打卡"：记录心情，获取反馈，解锁成就。
    * "玄境漂流瓶 / 心愿祈福墙"：匿名分享困惑、许下心愿，传递祝福。

## 核心算法
六十四卦算法：为"互动式场景决策"功能提供基础支持（方案选择：基于字符特征的确定性算法 + 仪式感，结合确定性算法和交互式"仪式"，基于选项的字符特征生成卦象，同时保留占卜的仪式感。）
