<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天玄 - 新手引导</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007AFF; /* iOS蓝色 */
            --secondary-color: #FF2D55; /* iOS粉色 */
            --accent-color: #5856D6; /* iOS紫色 */
            --success-color: #34C759; /* iOS绿色 */
            --warning-color: #FF9500; /* iOS橙色 */
            --danger-color: #FF3B30; /* iOS红色 */
            --bg-color: #F2F2F7; /* iOS浅灰背景 */
            --text-dark: #000000; /* iOS黑色文本 */
            --text-light: #FFFFFF; /* iOS白色文本 */
            --text-secondary: #8E8E93; /* iOS次要文本 */
            --border-color: #C7C7CC; /* iOS边框颜色 */
        }
        
        body {
            font-family: "SF Pro Text", "SF Pro Display", "PingFang SC", "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-dark);
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }

        .ios-button {
            border-radius: 12px;
            padding: 12px 20px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .ios-button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        .onboarding-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .onboarding-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .onboarding-image {
            width: 240px;
            height: 240px;
            background-color: rgba(0, 122, 255, 0.1);
            border-radius: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .onboarding-icon {
            font-size: 100px;
            color: var(--primary-color);
        }

        .onboarding-pagination {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .pagination-dot {
            width: 8px;
            height: 8px;
            border-radius: 4px;
            background-color: var(--border-color);
            margin: 0 4px;
            transition: all 0.3s ease;
        }

        .pagination-dot.active {
            width: 20px;
            background-color: var(--primary-color);
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.5s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 1;
        }
        
        .slide.prev {
            opacity: 0;
            transform: translateX(-50px);
        }

        .slide-content {
            text-align: center;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <div class="onboarding-container">
        <!-- 滑动内容区域 -->
        <div class="flex-1 relative overflow-hidden">
            <!-- 第一页 -->
            <div class="slide active" id="slide-1">
                <div class="onboarding-image">
                    <i class="fas fa-yin-yang onboarding-icon"></i>
                </div>
                <div class="slide-content">
                    <h2 class="text-2xl font-bold mb-4">探索玄学的奥秘</h2>
                    <p class="text-gray-600 mb-6">天玄帮助你通过古老的智慧获取指引，探索生活中的各种可能性。</p>
                </div>
            </div>

            <!-- 第二页 -->
            <div class="slide" id="slide-2">
                <div class="onboarding-image">
                    <i class="fas fa-coins onboarding-icon"></i>
                </div>
                <div class="slide-content">
                    <h2 class="text-2xl font-bold mb-4">多种占卜方式</h2>
                    <p class="text-gray-600 mb-6">易经铜钱、梅花易数、塔罗牌等多种占卜方式，满足你不同的需求。</p>
                </div>
            </div>

            <!-- 第三页 -->
            <div class="slide" id="slide-3">
                <div class="onboarding-image">
                    <i class="fas fa-book-open onboarding-icon"></i>
                </div>
                <div class="slide-content">
                    <h2 class="text-2xl font-bold mb-4">详尽的解读</h2>
                    <p class="text-gray-600 mb-6">专业的卦象解读和分析，帮助你理解古老智慧对现代生活的指导意义。</p>
                </div>
            </div>

            <!-- 第四页 -->
            <div class="slide" id="slide-4">
                <div class="onboarding-image">
                    <i class="fas fa-user-circle onboarding-icon"></i>
                </div>
                <div class="slide-content">
                    <h2 class="text-2xl font-bold mb-4">个性化体验</h2>
                    <p class="text-gray-600 mb-6">根据你的喜好和需求，提供个性化的内容推荐和界面设置。</p>
                </div>
            </div>
        </div>

        <!-- 底部控制区 -->
        <div class="px-6 py-8">
            <!-- 分页指示器 -->
            <div class="onboarding-pagination">
                <div class="pagination-dot active" data-slide="1"></div>
                <div class="pagination-dot" data-slide="2"></div>
                <div class="pagination-dot" data-slide="3"></div>
                <div class="pagination-dot" data-slide="4"></div>
            </div>

            <!-- 按钮区域 -->
            <div class="flex space-x-4">
                <button id="skip-button" class="ios-button bg-gray-100 text-gray-800 flex-1" onclick="skipOnboarding()">
                    跳过
                </button>
                <button id="next-button" class="ios-button bg-blue-500 text-white flex-1" onclick="nextSlide()">
                    下一步
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 4;
        
        // 更新分页指示器
        function updatePagination() {
            document.querySelectorAll('.pagination-dot').forEach((dot, index) => {
                if (index + 1 === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // 更新滑动内容
        function updateSlides(direction = 'next') {
            document.querySelectorAll('.slide').forEach((slide, index) => {
                // 移除所有状态类
                slide.classList.remove('active', 'prev');
                
                if (index + 1 === currentSlide) {
                    // 当前幻灯片
                    slide.classList.add('active');
                } else if (direction === 'next' && index + 1 === currentSlide - 1) {
                    // 前一张幻灯片（向前滑动时）
                    slide.classList.add('prev');
                } else if (direction === 'prev' && index + 1 === currentSlide + 1) {
                    // 后一张幻灯片（向后滑动时）
                    // 这里不添加特殊类，保持默认的右侧进入动画
                }
            });
            
            // 更新按钮文本
            const nextButton = document.getElementById('next-button');
            if (currentSlide === totalSlides) {
                nextButton.textContent = '开始使用';
                nextButton.classList.add('bg-green-500');
                nextButton.classList.remove('bg-blue-500');
            } else {
                nextButton.textContent = '下一步';
                nextButton.classList.add('bg-blue-500');
                nextButton.classList.remove('bg-green-500');
            }
        }
        
        // 下一页
        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updatePagination();
                updateSlides('next');
            } else {
                // 完成引导
                completeOnboarding();
            }
        }
        
        // 上一页
        function prevSlide() {
            if (currentSlide > 1) {
                currentSlide--;
                updatePagination();
                updateSlides('prev');
            }
        }
        
        // 跳过引导
        function skipOnboarding() {
            // 添加淡出动画
            document.querySelector('.onboarding-container').style.opacity = '0';
            document.querySelector('.onboarding-container').style.transition = 'opacity 0.3s ease';
            
            // 短暂延迟后跳转
            setTimeout(() => {
                completeOnboarding();
            }, 300);
        }
        
        // 完成引导
        function completeOnboarding() {
            // 跳转到登录页面，而不是直接到首页
            window.location.href = 'login.html';
        }
        
        // 点击分页指示器直接跳转到对应页面
        document.querySelectorAll('.pagination-dot').forEach(dot => {
            dot.addEventListener('click', () => {
                const newSlide = parseInt(dot.getAttribute('data-slide'));
                const direction = newSlide > currentSlide ? 'next' : 'prev';
                currentSlide = newSlide;
                updatePagination();
                updateSlides(direction);
            });
        });
        
        // 添加触摸滑动支持
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.querySelector('.flex-1.relative').addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        }, false);
        
        document.querySelector('.flex-1.relative').addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);
        
        function handleSwipe() {
            const swipeThreshold = 50; // 最小滑动距离
            if (touchEndX < touchStartX - swipeThreshold) {
                // 向左滑动，下一页
                nextSlide();
            }
            if (touchEndX > touchStartX + swipeThreshold) {
                // 向右滑动，上一页
                prevSlide();
            }
        }
    </script>
</body>
</html>