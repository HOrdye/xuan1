# 天玄Web项目内存管理系统

## 项目概述
天玄Web是一个专为90后、00后年轻人打造的玄学决策助手网页应用。该项目旨在通过现代化的网页技术，为用户提供轻松有趣的玄学体验平台，帮助他们在决策过程中获得启发和指引。

## 项目当前状态
- **当前阶段**: 第一阶段 - 核心功能完善（进行中，约65%完成）
- **已完成功能**: 六十四卦占卜系统、玄选两难系统、功能入口优化
- **开发中功能**: 笅杯占卜功能（45%）、今日运势模块（40%）

## 内存文件说明

### 主要文件
- **tasks.md**: 任务跟踪和进度管理的主要记录，是单一事实来源
- **progress.md**: 项目总体进度和各功能模块的完成状态
- **activeContext.md**: 当前活动的上下文和关注点
- **projectbrief.md**: 项目基本描述和总体愿景
- **decisionLog.md**: 重要决策的记录和原因

### 技术和产品上下文
- **techContext.md**: 技术栈、架构和实现细节
- **productContext.md**: 产品定位、目标用户和核心功能
- **systemPatterns.md**: 系统设计模式和最佳实践

## 使用指南
1. **查看任务状态**: 首先查阅tasks.md了解当前任务和优先级
2. **了解项目进度**: 通过progress.md了解整体项目进度
3. **开发新功能**: 参考activeContext.md中的当前焦点和决策
4. **技术实现**: 按照techContext.md中的技术栈和架构进行开发
5. **产品设计**: 参考productContext.md确保功能符合产品定位和用户需求

## 记忆库维护原则
1. 所有任务更新必须在tasks.md中记录
2. 重大决策必须记录在decisionLog.md中
3. 当前焦点必须反映在activeContext.md中
4. 技术变更必须更新techContext.md
5. 进度更新必须反映在progress.md中

## 项目结构

```
src/
├── assets/            # 静态资源
├── components/        # 全局通用组件
├── composables/       # 组合式API
├── core/              # 核心逻辑
├── features/          # 功能模块
│   ├── dilemma/       # 玄选两难功能
│   ├── divination/    # 易经占卜功能
│   ├── fortune/       # 今日运势功能
│   ├── jiao-bei/      # 笅杯占卜功能
│   ├── tarot/         # 塔罗牌功能
│   └── windsurf/      # 其他功能
├── router/            # 路由配置
├── services/          # 外部服务集成
├── shared/            # 共享资源
├── store/             # 状态管理
├── utils/             # 工具函数
└── views/             # 页面视图
```

## 技术栈

- **前端框架:** Vue.js 3
- **构建工具:** Vite
- **样式方案:** Tailwind CSS
- **状态管理:** Pinia
- **动画库:** Anime.js
- **UI组件库:** Naive UI
- **HTTP客户端:** Axios
- **后端服务:** Supabase (计划中)

## 开发计划

### 第一阶段：核心功能完善 (1-2周)
1. **今日运势模块**
   - 基本运势生成算法
   - 用户生日信息采集
   - 开运/避坑小提示生成
   - 运势页面UI设计与实现

2. **笅杯占卜功能**
   - 笅杯模拟动画开发
   - 笅杯结果解读系统
   - 与现有占卜系统整合

### 第二阶段：个性化体验 (2-3周)
1. **玄学画像系统**
   - 用户基础信息采集
   - 本命星盘/八字简析算法
   - 能量趋势分析模块
   - 专属守护符号生成器

2. **DIY开运潮物**
   - 玄学元素库构建
   - 组合规则设计
   - 电子御守生成器
   - 壁纸定制功能

3. **数据持久化**
   - 用户数据存储系统
   - 历史记录功能
   - 收藏功能实现

### 第三阶段：AI赋能 (3-4周)
1. **AI解梦师/智能塔罗解读**
   - 塔罗牌组件开发
   - DeepSeek API集成
   - 提示词优化
   - 心情打卡系统

2. **后端服务整合**
   - Supabase整合
   - 用户认证系统
   - 云函数开发

### 第四阶段：游戏化互动 (2-3周)
1. **玄学知识大挑战**
   - 题库建设
   - 关卡设计
   - 游戏化界面开发

2. **心情塔罗打卡**
   - 打卡界面开发
   - 成就系统设计
   - 奖励机制实现

3. **玄境漂流瓶/心愿祈福墙**
   - 社区互动功能
   - 内容审核系统
   - 分享功能

## 运行项目

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 代码检查
```bash
npm run lint
```

## 可能的开发问题与解决方案

1. **样式不正确加载**
   - 确保Tailwind CSS配置正确
   - 检查main.ts中样式文件是否正确导入
   - 尝试重新安装相关依赖

2. **动画不正常工作**
   - 确保Anime.js正确安装
   - 检查动画导入语句是否正确
   - 确保有正确的CSS类定义
   - 检查浏览器控制台错误信息

3. **Vue组件不正常渲染**
   - 确保Vue及相关依赖版本兼容
   - 检查组件注册方式
   - 确认vite.config.ts配置正确

## 历史变更记录

- 2024-06-02：根据用户反馈，彻底移除视觉分析网络(VAN)功能，项目聚焦于六十四卦占卜、玄选两难、今日运势和笅杯占卜等核心功能。
- 2024-06-03：新增"今日运势"与"笅杯占卜"功能页面，完善核心体验。
- 2024-06-10：笅杯占卜功能基础版本已实现，包含简单投掷动画和结果显示；今日运势模块基础版本已实现，包含生日输入和基础运势展示。 