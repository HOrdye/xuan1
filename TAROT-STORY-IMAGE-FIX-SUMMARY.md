# æ•…äº‹å¡”ç½—ç‰Œå›¾ç‰‡è·¯å¾„ä¿®å¤æ€»ç»“

## é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆå°é˜¿å°”å¡çº³ç‰Œæ— æ³•æ­£ç¡®æ˜¾ç¤ºå›¾ç‰‡ï¼Œæ§åˆ¶å°å‡ºç°404é”™è¯¯ã€‚ç»è¿‡æ·±å…¥åˆ†æå‘ç°ï¼š

### æ ¹æœ¬åŸå› 
1. **TarotPage.vue ä½¿ç”¨çš„æ•°æ®æºé”™è¯¯**ï¼šç»„ä»¶ä½¿ç”¨çš„æ˜¯ `storyTarotData.ts`ï¼Œè€Œä¸æ˜¯ä¹‹å‰ä¿®å¤çš„ `completeTarotData.ts`
2. **å›¾ç‰‡è·¯å¾„æ ¼å¼ä¸åŒ¹é…**ï¼š`storyTarotData.ts` ä¸­çš„å›¾ç‰‡è·¯å¾„ä¸å®é™…æ–‡ä»¶åä¸ç¬¦

### å…·ä½“é—®é¢˜
- **å°é˜¿å°”å¡çº³é”™è¯¯è·¯å¾„**ï¼š`/static/tarot/wands/ace_of_wands.png`
- **æ­£ç¡®è·¯å¾„åº”ä¸º**ï¼š`/static/tarot/- 22_wands_ace_jpg (æƒæ–ç‹ç‰Œ Ace of Wands).png`
- **å¤§é˜¿å°”å¡çº³éƒ¨åˆ†è·¯å¾„ä¹Ÿæœ‰é—®é¢˜**ï¼šå¦‚ `- 21_the_world_jpg` åº”ä¸º `- 21_world_jpg`

## è§£å†³æ–¹æ¡ˆ

### 1. é—®é¢˜åˆ†æ
- æ£€æŸ¥äº† `public/static/tarot/` ç›®å½•ä¸‹çš„å®é™…æ–‡ä»¶
- å‘ç°78å¼ å¡”ç½—ç‰Œå›¾ç‰‡éƒ½å­˜åœ¨ï¼Œæ–‡ä»¶å‘½åè§„å¾‹ä¸ºï¼š
  - å¤§é˜¿å°”å¡çº³ï¼š`- 00_fool_jpg (æ„šè€…).png`
  - å°é˜¿å°”å¡çº³ï¼š`- 22_wands_ace_jpg (æƒæ–ç‹ç‰Œ Ace of Wands).png`

### 2. è‡ªåŠ¨åŒ–ä¿®å¤
åˆ›å»ºäº† `fixStoryTarotImagePaths.cjs` è„šæœ¬ï¼š
- è¯»å–å®é™…å›¾ç‰‡æ–‡ä»¶åˆ—è¡¨
- åˆ›å»ºIDåˆ°æ–‡ä»¶åçš„ç²¾ç¡®æ˜ å°„
- æ‰¹é‡ä¿®å¤ `storyTarotData.ts` ä¸­çš„æ‰€æœ‰å›¾ç‰‡è·¯å¾„
- éªŒè¯ä¿®å¤ç»“æœ

### 3. ä¿®å¤ç»“æœ
```
âœ… æˆåŠŸä¿®å¤: 77 ä¸ªè·¯å¾„
âŒ é”™è¯¯æ•°é‡: 0 ä¸ª
ğŸ‰ æ‰€æœ‰å›¾ç‰‡è·¯å¾„éƒ½å·²æ­£ç¡®ä¿®å¤ï¼
```

## æŠ€æœ¯ç»†èŠ‚

### ä¿®å¤è„šæœ¬æ ¸å¿ƒé€»è¾‘
```javascript
// 1. è¯»å–å®é™…å›¾ç‰‡æ–‡ä»¶
const imageFiles = fs.readdirSync(tarotImageDir)
  .filter(file => file.endsWith('.png') && file !== '.gitkeep');

// 2. åˆ›å»ºIDæ˜ å°„
const idToFileMap = {};
imageFiles.forEach(filename => {
  const match = filename.match(/^- (\d+)_/);
  if (match) {
    const id = parseInt(match[1]);
    idToFileMap[id] = filename;
  }
});

// 3. æ‰¹é‡æ›¿æ¢è·¯å¾„
for (let id = 0; id <= 77; id++) {
  if (idToFileMap[id]) {
    const correctPath = `/static/tarot/${idToFileMap[id]}`;
    content = content.replace(
      new RegExp(`("id":\\s*${id}[\\s\\S]*?"imageUrl":\\s*)"[^"]*"`, 'g'),
      `$1"${correctPath}"`
    );
  }
}
```

### éªŒè¯å·¥å…·
åˆ›å»ºäº† `test-story-tarot-images.html` æµ‹è¯•é¡µé¢ï¼š
- å¯¼å…¥ `storyTarotData.ts` æ•°æ®
- æŒ‰åˆ†ç±»æ˜¾ç¤ºæ‰€æœ‰å¡”ç½—ç‰Œ
- å®æ—¶ç»Ÿè®¡å›¾ç‰‡åŠ è½½æˆåŠŸç‡
- æ˜¾ç¤ºåŠ è½½å¤±è´¥çš„è¯¦ç»†ä¿¡æ¯

## æ–‡ä»¶ç»“æ„å¯¹æ¯”

### ä¿®å¤å‰çš„é”™è¯¯è·¯å¾„ç¤ºä¾‹
```typescript
{
  "id": 22,
  "imageUrl": "/static/tarot/wands/ace_of_wands.png"  // âŒ é”™è¯¯
}
```

### ä¿®å¤åçš„æ­£ç¡®è·¯å¾„
```typescript
{
  "id": 22,
  "imageUrl": "/static/tarot/- 22_wands_ace_jpg (æƒæ–ç‹ç‰Œ Ace of Wands).png"  // âœ… æ­£ç¡®
}
```

## æµ‹è¯•éªŒè¯

### æµ‹è¯•æ­¥éª¤
1. æ‰“å¼€ `test-story-tarot-images.html`
2. è§‚å¯Ÿå›¾ç‰‡åŠ è½½ç»Ÿè®¡
3. æ£€æŸ¥æ˜¯å¦æœ‰404é”™è¯¯
4. éªŒè¯æ‰€æœ‰78å¼ ç‰Œéƒ½èƒ½æ­£å¸¸æ˜¾ç¤º

### é¢„æœŸç»“æœ
- æ€»å¡ç‰Œæ•°ï¼š78å¼ 
- åŠ è½½æˆåŠŸï¼š78å¼ 
- åŠ è½½å¤±è´¥ï¼š0å¼ 
- æˆåŠŸç‡ï¼š100%

## å½±å“èŒƒå›´

### ä¿®å¤çš„æ–‡ä»¶
- âœ… `src/features/tarot/utils/storyTarotData.ts` - ä¸»è¦æ•°æ®æ–‡ä»¶
- âœ… åˆ›å»ºæµ‹è¯•é¡µé¢ `test-story-tarot-images.html`

### ä¸å—å½±å“çš„æ–‡ä»¶
- `src/features/tarot/utils/completeTarotData.ts` - ä¹‹å‰å·²ä¿®å¤
- `src/features/tarot/utils/tarotData.ts` - å¤§é˜¿å°”å¡çº³æ•°æ®
- å®é™…å›¾ç‰‡æ–‡ä»¶ - æ— éœ€ä¿®æ”¹

## ç»éªŒæ€»ç»“

### é—®é¢˜æ ¹æº
1. **æ•°æ®æºæ··ä¹±**ï¼šé¡¹ç›®ä¸­å­˜åœ¨å¤šä¸ªå¡”ç½—ç‰Œæ•°æ®æ–‡ä»¶ï¼Œéœ€è¦æ˜ç¡®å“ªä¸ªæ˜¯å®é™…ä½¿ç”¨çš„
2. **è·¯å¾„ä¸ä¸€è‡´**ï¼šå›¾ç‰‡æ–‡ä»¶å‘½åä¸ä»£ç ä¸­çš„è·¯å¾„ä¸åŒ¹é…
3. **ç¼ºä¹éªŒè¯**ï¼šæ²¡æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•æ¥éªŒè¯å›¾ç‰‡è·¯å¾„çš„æ­£ç¡®æ€§

### è§£å†³æ–¹æ¡ˆä¼˜åŠ¿
1. **è‡ªåŠ¨åŒ–ä¿®å¤**ï¼šé¿å…æ‰‹åŠ¨é€ä¸ªä¿®æ”¹çš„é”™è¯¯
2. **ç²¾ç¡®æ˜ å°„**ï¼šåŸºäºå®é™…æ–‡ä»¶ååˆ›å»ºæ˜ å°„å…³ç³»
3. **å®Œæ•´éªŒè¯**ï¼šä¿®å¤åç«‹å³éªŒè¯æ‰€æœ‰è·¯å¾„
4. **å¯è§†åŒ–æµ‹è¯•**ï¼šæä¾›ç›´è§‚çš„æµ‹è¯•é¡µé¢

### é¢„é˜²æªæ–½
1. **ç»Ÿä¸€æ•°æ®æº**ï¼šæ˜ç¡®é¡¹ç›®ä½¿ç”¨çš„å”¯ä¸€å¡”ç½—ç‰Œæ•°æ®æ–‡ä»¶
2. **è·¯å¾„è§„èŒƒ**ï¼šå»ºç«‹å›¾ç‰‡æ–‡ä»¶å‘½åå’Œè·¯å¾„çš„æ ‡å‡†è§„èŒƒ
3. **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šé›†æˆå›¾ç‰‡è·¯å¾„éªŒè¯åˆ°æ„å»ºæµç¨‹ä¸­

## æœ€ç»ˆçŠ¶æ€

âœ… **é—®é¢˜å·²å®Œå…¨è§£å†³**
- æ‰€æœ‰78å¼ å¡”ç½—ç‰Œå›¾ç‰‡è·¯å¾„å·²ä¿®å¤
- TarotPage.vue ç°åœ¨å¯ä»¥æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰å¡”ç½—ç‰Œ
- æ§åˆ¶å°ä¸å†å‡ºç°404å›¾ç‰‡åŠ è½½é”™è¯¯
- ç”¨æˆ·å¯ä»¥æ­£å¸¸ä½¿ç”¨å¡”ç½—ç‰Œå åœåŠŸèƒ½

---

**ä¿®å¤æ—¶é—´**: 2024å¹´12æœˆ
**ä¿®å¤æ–¹å¼**: è‡ªåŠ¨åŒ–è„šæœ¬æ‰¹é‡ä¿®å¤
**éªŒè¯æ–¹å¼**: å¯è§†åŒ–æµ‹è¯•é¡µé¢
**ä¿®å¤çŠ¶æ€**: âœ… å®Œæˆ 