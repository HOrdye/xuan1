<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天玄 - 八字排盘</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <style>
        :root {
            --primary-color: #6366F1; /* Indigo-500 */
            --secondary-color: #EC4899; /* Pink-500 */
            --accent-color: #8B5CF6; /* Violet-500 */
            --gold-color: #FFD700;
            --wood-color: #4CAF50;
            --water-color: #2196F3;
            --fire-color: #F44336;
            --earth-color: #795548;
        }
        
        body {
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            padding-bottom: 70px;
            background-color: #F9FAFB;
            background-image: url('https://images.unsplash.com/photo-1507808973436-a4ed7b5e87c9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
        }

        .bazi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .bazi-column {
            text-align: center;
            padding: 1.5rem 0.75rem;
            background: rgba(245, 246, 255, 0.95);
            border-radius: 1.5rem;
            animation: slideIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            animation-fill-mode: both;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }
        
        .bazi-column::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(236, 72, 153, 0.1));
            z-index: -1;
            opacity: 0.5;
        }
        
        .bazi-column::after {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            top: -25%;
            left: -25%;
            background: linear-gradient(45deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.1) 50%, 
                rgba(255,255,255,0) 100%);
            transform: rotate(45deg);
            animation: shimmer 3s ease-in-out infinite;
            z-index: 1;
            pointer-events: none;
        }

        .bazi-column:nth-child(1) { animation-delay: 0.1s; }
        .bazi-column:nth-child(2) { animation-delay: 0.3s; }
        .bazi-column:nth-child(3) { animation-delay: 0.5s; }
        .bazi-column:nth-child(4) { animation-delay: 0.7s; }
        
        .bazi-column:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.2);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .element-chart {
            height: 200px;
            background: white;
            border-radius: 16px;
            margin: 1rem 0;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }
        
        .element-chart::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1518133910546-b6c2fb7d79e3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80');
            background-size: cover;
            background-position: center;
            opacity: 0.03;
            mix-blend-mode: overlay;
            z-index: 0;
        }
        
        .nav-header {
            position: sticky;
            top: 0;
            z-index: 10;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }

        .element-bar {
            height: 10px;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.05);
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .element-fill {
            height: 100%;
            border-radius: 5px;
            animation: progressFill 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            position: relative;
            overflow: hidden;
        }
        
        .element-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.3) 50%, 
                rgba(255,255,255,0) 100%);
            animation: elementGlow 2s ease-in-out infinite;
        }

        .element-gold { 
            background: linear-gradient(90deg, #FFD700, #FFA500);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        .element-wood { 
            background: linear-gradient(90deg, #4CAF50, #2E7D32);
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
        }
        .element-water { 
            background: linear-gradient(90deg, #2196F3, #0D47A1);
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.3);
        }
        .element-fire { 
            background: linear-gradient(90deg, #F44336, #B71C1C);
            box-shadow: 0 0 10px rgba(244, 67, 54, 0.3);
        }
        .element-earth { 
            background: linear-gradient(90deg, #795548, #3E2723);
            box-shadow: 0 0 10px rgba(121, 85, 72, 0.3);
        }

        .element-item {
            animation: pulseEnergy 3s infinite;
            animation-delay: var(--delay);
            transition: all 0.3s ease;
        }
        
        .element-item:hover {
            transform: translateX(5px) !important;
        }

        @keyframes pulseEnergy {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        @keyframes elementGlow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes floatAnimation {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .float-animation {
            animation: floatAnimation 4s ease-in-out infinite;
        }

        @keyframes progressFill {
            from { width: 0; }
            to { width: var(--width, 50%); }
        }

        .input-field {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .input-field:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .card {
            transition: all 0.3s ease;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border: none;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- 导航栏 -->
    <div class="nav-header">
        <div class="flex justify-between items-center p-4 border-b">
            <div class="text-lg font-bold text-indigo-600">八字排盘</div>
            <div>
                <button class="p-2 rounded-full bg-gray-100">
                    <i class="fas fa-share-alt text-gray-500"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- 主内容区 -->
    <div class="p-4">
        <!-- 神秘背景元素 -->
        <div class="fixed top-0 left-0 w-full h-full pointer-events-none z-0 opacity-30">
            <div class="absolute top-10 left-10 text-6xl text-indigo-200 opacity-20">
                <i class="fas fa-yin-yang animate-spin" style="animation-duration: 20s;"></i>
            </div>
            <div class="absolute bottom-20 right-10 text-6xl text-pink-200 opacity-20">
                <i class="fas fa-moon animate-pulse" style="animation-duration: 5s;"></i>
            </div>
        </div>
        
        <!-- 信息输入卡片 -->
        <div class="card bg-white mb-6 relative z-10">
            <div class="p-5">
                <div class="flex items-center mb-5">
                    <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3">
                        <i class="fas fa-user-circle text-indigo-600"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800">基础信息</h3>
                </div>
                
                <div class="mb-5">
                    <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                        <i class="fas fa-calendar-alt text-indigo-500 mr-2"></i>
                        出生日期
                    </label>
                    <input type="date" class="input-field w-full p-3 bg-gray-50 rounded-lg text-gray-700 border border-gray-200 focus:border-indigo-500 transition-all duration-300" value="1995-10-15" id="birth-date">
                </div>
                
                <div class="mb-5">
                    <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                        <i class="fas fa-clock text-indigo-500 mr-2"></i>
                        出生时间
                    </label>
                    <input type="time" class="input-field w-full p-3 bg-gray-50 rounded-lg text-gray-700 border border-gray-200 focus:border-indigo-500 transition-all duration-300" value="23:30" id="birth-time">
                </div>
                
                <div class="grid grid-cols-2 gap-4 mb-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                            <i class="fas fa-venus-mars text-indigo-500 mr-2"></i>
                            性别
                        </label>
                        <select class="input-field w-full p-3 bg-gray-50 rounded-lg text-gray-700 border border-gray-200 focus:border-indigo-500 transition-all duration-300" id="gender">
                            <option>男</option>
                            <option selected>女</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                            <i class="fas fa-map-marker-alt text-indigo-500 mr-2"></i>
                            出生地点
                        </label>
                        <input type="text" class="input-field w-full p-3 bg-gray-50 rounded-lg text-gray-700 border border-gray-200 focus:border-indigo-500 transition-all duration-300" placeholder="例如：北京市" value="北京市" id="birth-place">
                    </div>
                </div>
                
                <div class="relative">
                    <button class="btn-primary w-full py-3 rounded-lg text-white font-medium relative overflow-hidden group" id="calculate-btn">
                        <span class="relative z-10 flex items-center justify-center">
                            <i class="fas fa-calculator mr-2 group-hover:animate-bounce"></i>
                            开始排盘
                        </span>
                        <span class="absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></span>
                    </button>
                    
                    <!-- 仪式感提示 -->
                    <div class="text-center mt-3 text-xs text-gray-500 italic">
                        <p>八字排盘将揭示您的先天命局与五行能量分布</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 八字排盘结果 -->
        <div class="mb-6 result-section" id="bazi-result" style="opacity: 0; transform: translateY(20px);">
            <div class="flex items-center mb-6">
                <div class="w-12 h-12 rounded-full bg-indigo-500 flex items-center justify-center mr-3">
                    <i class="fas fa-yin-yang text-white text-xl"></i>
                </div>
                <div class="flex flex-col">
                    <h3 class="text-2xl font-bold text-indigo-600">八字排盘</h3>
                    <h4 class="text-lg font-medium text-gray-600">结果</h4>
                </div>
                <div class="ml-auto px-6 py-3 bg-indigo-100 rounded-full">
                    <span class="text-base text-indigo-700 font-medium">乙亥年 · 壬申月 · 戊子日 · 癸酉时</span>
                </div>
            </div>
            
            <div class="bazi-grid">
                <div class="bazi-column h-full flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center mx-auto mb-3">
                        <span class="text-indigo-600 font-bold text-xl">年</span>
                    </div>
                    <div class="text-sm text-gray-500 mb-2">年柱</div>
                    <div class="text-5xl font-bold text-indigo-600 mb-3">乙亥</div>
                    <div class="text-sm bg-indigo-50 text-indigo-800 rounded-full px-4 py-1 inline-block">木猪</div>
                    <div class="text-sm text-gray-500 mt-3">1995年</div>
                    <div class="mt-5 flex justify-center">
                        <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center">
                            <i class="fas fa-tree text-green-500"></i>
                        </div>
                    </div>
                </div>
                <div class="bazi-column h-full flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-pink-100 flex items-center justify-center mx-auto mb-3">
                        <span class="text-pink-600 font-bold text-xl">月</span>
                    </div>
                    <div class="text-sm text-gray-500 mb-2">月柱</div>
                    <div class="text-5xl font-bold text-pink-500 mb-3">王申</div>
                    <div class="text-sm bg-pink-50 text-pink-800 rounded-full px-4 py-1 inline-block">水猴</div>
                    <div class="text-sm text-gray-500 mt-3">九月</div>
                    <div class="mt-5 flex justify-center">
                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-water text-blue-500"></i>
                        </div>
                    </div>
                </div>
                <div class="bazi-column h-full flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-3">
                        <span class="text-purple-600 font-bold text-xl">日</span>
                    </div>
                    <div class="text-sm text-gray-500 mb-2">日柱</div>
                    <div class="text-5xl font-bold text-purple-600 mb-3">戊子</div>
                    <div class="text-sm bg-purple-50 text-purple-800 rounded-full px-4 py-1 inline-block">土鼠</div>
                    <div class="text-sm text-gray-500 mt-3">十五日</div>
                    <div class="mt-5 flex justify-center">
                        <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center">
                            <i class="fas fa-mountain text-yellow-700"></i>
                        </div>
                    </div>
                </div>
                <div class="bazi-column h-full flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-3">
                        <span class="text-blue-600 font-bold text-xl">时</span>
                    </div>
                    <div class="text-sm text-gray-500 mb-2">时柱</div>
                    <div class="text-5xl font-bold text-blue-500 mb-3">癸西</div>
                    <div class="text-sm bg-blue-50 text-blue-800 rounded-full px-4 py-1 inline-block">水鸡</div>
                    <div class="text-sm text-gray-500 mt-3">子时</div>
                    <div class="mt-5 flex justify-center">
                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-water text-blue-500"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 天干地支对应说明 -->
            <div class="text-center mt-5 text-sm text-gray-600">
                <p>天干：乙(木) 王(水) 戊(土) 癸(水) | 地支：亥(水) 申(金) 子(水) 西(金)</p>
            </div>
        </div>

        <!-- 五行分析 -->
        <div class="card bg-white mb-6 result-section" id="elements-analysis" style="opacity: 0; transform: translateY(20px);">
            <div class="p-5">
                <div class="flex items-center mb-5">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-red-500 to-yellow-500 flex items-center justify-center mr-3">
                        <i class="fas fa-fire-alt text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800">五行能量分析</h3>
                </div>
                
                <div class="space-y-5">
                    <div class="element-item" style="--delay: 0s;">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-3 element-icon">
                                    <i class="fas fa-coins text-yellow-500"></i>
                                </div>
                                <span class="text-base font-medium">金</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-sm font-bold text-yellow-600 mr-2 element-percentage">60%</span>
                                <div class="text-xs px-2 py-1 bg-yellow-50 text-yellow-800 rounded-full">偏旺</div>
                            </div>
                        </div>
                        <div class="element-bar">
                            <div class="element-fill element-gold" style="--width: 60%" data-percentage="60"></div>
                        </div>
                        <div class="mt-1 text-xs text-gray-500">代表坚强、纯净、判断力、理性思维</div>
                    </div>
                    
                    <div class="element-item" style="--delay: 0.2s;">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3 element-icon">
                                    <i class="fas fa-tree text-green-500"></i>
                                </div>
                                <span class="text-base font-medium">木</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-sm font-bold text-green-600 mr-2 element-percentage">45%</span>
                                <div class="text-xs px-2 py-1 bg-green-50 text-green-800 rounded-full">平衡</div>
                            </div>
                        </div>
                        <div class="element-bar">
                            <div class="element-fill element-wood" style="--width: 45%" data-percentage="45"></div>
                        </div>
                        <div class="mt-1 text-xs text-gray-500">代表生长、创造力、决策力、宽容心</div>
                    </div>
                    
                    <div class="element-item" style="--delay: 0.4s;">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3 element-icon">
                                    <i class="fas fa-water text-blue-500"></i>
                                </div>
                                <span class="text-base font-medium">水</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-sm font-bold text-blue-600 mr-2 element-percentage">75%</span>
                                <div class="text-xs px-2 py-1 bg-blue-50 text-blue-800 rounded-full">过旺</div>
                            </div>
                        </div>
                        <div class="element-bar">
                            <div class="element-fill element-water" style="--width: 75%" data-percentage="75"></div>
                        </div>
                        <div class="mt-1 text-xs text-gray-500">代表智慧、适应力、想象力、直觉</div>
                    </div>
                    
                    <div class="element-item" style="--delay: 0.6s;">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-3 element-icon">
                                    <i class="fas fa-fire text-red-500"></i>
                                </div>
                                <span class="text-base font-medium">火</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-sm font-bold text-red-600 mr-2 element-percentage">30%</span>
                                <div class="text-xs px-2 py-1 bg-red-50 text-red-800 rounded-full">偏弱</div>
                            </div>
                        </div>
                        <div class="element-bar">
                            <div class="element-fill element-fire" style="--width: 30%" data-percentage="30"></div>
                        </div>
                        <div class="mt-1 text-xs text-gray-500">代表热情、活力、表现力、领导力</div>
                    </div>
                    
                    <div class="element-item" style="--delay: 0.8s;">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-3 element-icon">
                                    <i class="fas fa-mountain text-yellow-800"></i>
                                </div>
                                <span class="text-base font-medium">土</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-sm font-bold text-yellow-800 mr-2 element-percentage">50%</span>
                                <div class="text-xs px-2 py-1 bg-yellow-50 text-yellow-800 rounded-full">平衡</div>
                            </div>
                        </div>
                        <div class="element-bar">
                            <div class="element-fill element-earth" style="--width: 50%" data-percentage="50"></div>
                        </div>
                        <div class="mt-1 text-xs text-gray-500">代表稳定、耐心、负责任、努力</div>
                    </div>
                </div>
                
                <!-- 五行关系图 -->
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <div class="text-center mb-3">
                        <h4 class="text-sm font-bold text-gray-700">五行相生相克关系</h4>
                    </div>
                    <div class="five-elements-chart relative h-48 flex items-center justify-center overflow-hidden">
                        <!-- 五行相生相克图 -->
                        <div class="w-full h-full flex items-center justify-center">
                            <!-- 五行图表容器 -->
                            <div class="w-36 h-36 relative">
                                <!-- 五角星形状 -->
                                <svg viewBox="0 0 100 100" class="w-full h-full">
                                    <!-- 五角星外形 -->
                                    <polygon points="50,5 95,35 80,90 20,90 5,35" fill="none" stroke="#ddd" stroke-width="1" />
                                    
                                    <!-- 相生关系线条（顺时针）-->
                                    <path d="M50,5 L80,90" stroke="#4CAF50" stroke-width="1.5" class="wuxing-line" />
                                    <path d="M80,90 L5,35" stroke="#F44336" stroke-width="1.5" class="wuxing-line" />
                                    <path d="M5,35 L20,90" stroke="#FFD700" stroke-width="1.5" class="wuxing-line" />
                                    <path d="M20,90 L95,35" stroke="#2196F3" stroke-width="1.5" class="wuxing-line" />
                                    <path d="M95,35 L50,5" stroke="#795548" stroke-width="1.5" class="wuxing-line" />
                                    
                                    <!-- 相克关系线条（五角星内部）-->
                                    <path d="M50,5 L20,90" stroke="#F44336" stroke-width="1" stroke-dasharray="2,1" class="wuxing-line" />
                                    <path d="M80,90 L95,35" stroke="#795548" stroke-width="1" stroke-dasharray="2,1" class="wuxing-line" />
                                    <path d="M5,35 L50,5" stroke="#2196F3" stroke-width="1" stroke-dasharray="2,1" class="wuxing-line" />
                                    <path d="M20,90 L5,35" stroke="#4CAF50" stroke-width="1" stroke-dasharray="2,1" class="wuxing-line" />
                                    <path d="M95,35 L80,90" stroke="#FFD700" stroke-width="1" stroke-dasharray="2,1" class="wuxing-line" />
                                    
                                    <!-- 五行元素圆圈 -->
                                    <circle cx="50" cy="5" r="8" fill="#4CAF50" class="wuxing-node" />
                                    <circle cx="95" cy="35" r="8" fill="#F44336" class="wuxing-node" />
                                    <circle cx="80" cy="90" r="8" fill="#FFD700" class="wuxing-node" />
                                    <circle cx="20" cy="90" r="8" fill="#2196F3" class="wuxing-node" />
                                    <circle cx="5" cy="35" r="8" fill="#795548" class="wuxing-node" />
                                    
                                    <!-- 五行文字 -->
                                    <text x="50" y="5" dy="3" text-anchor="middle" fill="white" font-size="8" font-weight="bold">木</text>
                                    <text x="95" y="35" dy="3" text-anchor="middle" fill="white" font-size="8" font-weight="bold">火</text>
                                    <text x="80" y="90" dy="3" text-anchor="middle" fill="white" font-size="8" font-weight="bold">土</text>
                                    <text x="20" y="90" dy="3" text-anchor="middle" fill="white" font-size="8" font-weight="bold">水</text>
                                    <text x="5" y="35" dy="3" text-anchor="middle" fill="white" font-size="8" font-weight="bold">金</text>
                                </svg>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 图例和规则说明 -->
                    <div class="mt-2 flex justify-center space-x-6 text-xs">
                        <div class="flex items-center">
                            <div class="w-3 h-0.5 bg-green-500 mr-1"></div>
                            <span>相生</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-3 h-0 border-t border-dashed border-red-500 mr-1"></div>
                            <span>相克</span>
                        </div>
                    </div>
                    
                    <!-- 五行相生相克规则说明 -->
                    <div class="mt-2 text-xs text-gray-600 text-center">
                        <div>
                            <span class="text-green-600 font-medium">相生：</span> 木生火、火生土、土生金、金生水、水生木
                        </div>
                        <div class="mt-1">
                            <span class="text-red-600 font-medium">相克：</span> 木克土、土克水、水克火、火克金、金克木
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 命局分析 -->
        <div class="card bg-white mb-6 result-section" id="destiny-analysis" style="opacity: 0; transform: translateY(20px);">
            <div class="p-5">
                <div class="flex items-center mb-5">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center mr-3">
                        <i class="fas fa-user-chart text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800">命局分析</h3>
                </div>
                
                <div class="bg-gradient-to-r from-indigo-50 to-indigo-100 p-4 rounded-xl mb-5 transform transition-all duration-500 hover:scale-[1.02] hover:shadow-lg">
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center flex-shrink-0 mt-1">
                            <i class="fas fa-star text-indigo-500"></i>
                        </div>
                        <div class="ml-4">
                            <h4 class="font-medium text-indigo-800 text-lg">日主旺衰</h4>
                            <p class="text-sm text-indigo-700 mt-2 leading-relaxed">日主偏弱，喜木、火助身，忌金、水、土克泄。在事业上应当寻求创造性和热情的领域，避免过于理性和固化的工作。</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-pink-50 to-pink-100 p-4 rounded-xl mb-5 transform transition-all duration-500 hover:scale-[1.02] hover:shadow-lg">
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center flex-shrink-0 mt-1">
                            <i class="fas fa-crown text-pink-500"></i>
                        </div>
                        <div class="ml-4">
                            <h4 class="font-medium text-pink-800 text-lg">喜神</h4>
                            <p class="text-sm text-pink-700 mt-2 leading-relaxed">喜木、火，有利于事业发展和健康。可以选择绿色和红色系的物品，或者从事创意、教育、文化等行业，有助于提升个人能量。</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-xl transform transition-all duration-500 hover:scale-[1.02] hover:shadow-lg">
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0 mt-1">
                            <i class="fas fa-skull text-purple-500"></i>
                        </div>
                        <div class="ml-4">
                            <h4 class="font-medium text-purple-800 text-lg">忌神</h4>
                            <p class="text-sm text-purple-700 mt-2 leading-relaxed">忌金、水，不利于财运和人际关系。应尽量减少白色、黑色、蓝色系的物品，尽量避免从事金融、水产等行业，以减少不利能量的影响。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 运势预测 -->
        <div class="card bg-white mb-6">
            <div class="p-4">
                <h3 class="text-lg font-bold text-gray-800 mb-4">运势预测</h3>
                <div class="flex overflow-x-auto pb-2 -mx-4 px-4 space-x-3">
                    <div class="flex-shrink-0 w-32 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-xl p-3 text-white">
                        <div class="text-xs opacity-80 mb-1">大运</div>
                        <div class="text-lg font-bold mb-1">丁卯运</div>
                        <div class="text-xs opacity-80">2022-2032</div>
                        <div class="mt-2 text-xs bg-white bg-opacity-20 rounded-full px-2 py-1 inline-block">偏财运</div>
                    </div>
                    <div class="flex-shrink-0 w-32 bg-gradient-to-b from-gray-500 to-gray-600 rounded-xl p-3 text-white">
                        <div class="text-xs opacity-80 mb-1">流年</div>
                        <div class="text-lg font-bold mb-1">乙卯年</div>
                        <div class="text-xs opacity-80">2025年</div>
                        <div class="mt-2 text-xs bg-white bg-opacity-20 rounded-full px-2 py-1 inline-block">桃花运</div>
                    </div>
                    <div class="flex-shrink-0 w-32 bg-gradient-to-b from-pink-500 to-red-500 rounded-xl p-3 text-white">
                        <div class="text-xs opacity-80 mb-1">流月</div>
                        <div class="text-lg font-bold mb-1">壬申月</div>
                        <div class="text-xs opacity-80">2025年4月</div>
                        <div class="mt-2 text-xs bg-white bg-opacity-20 rounded-full px-2 py-1 inline-block">事业运</div>
                    </div>
                    <div class="flex-shrink-0 w-32 bg-gradient-to-b from-blue-500 to-blue-600 rounded-xl p-3 text-white">
                        <div class="text-xs opacity-80 mb-1">流日</div>
                        <div class="text-lg font-bold mb-1">戊子日</div>
                        <div class="text-xs opacity-80">2025年4月24日</div>
                        <div class="mt-2 text-xs bg-white bg-opacity-20 rounded-full px-2 py-1 inline-block">财运</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 神煞分析 -->
        <div class="card bg-white mb-6">
            <div class="p-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-800">神煞分析</h3>
                    <span class="text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full">共12个神煞</span>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-green-50 p-2 rounded-lg">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mr-2">
                                <i class="fas fa-plus text-green-500 text-xs"></i>
                            </div>
                            <span class="text-sm font-medium text-green-800">天乙贵人</span>
                        </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-r from-red-50 to-red-100 p-4 rounded-xl transform transition-all duration-500 hover:scale-[1.02] hover:shadow-lg">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-times text-red-500"></i>
                            </div>
                            <div class="ml-4">
                                <h4 class="font-medium text-red-800 text-lg">凶神</h4>
                                <div class="mt-3 space-y-2">
                                    <div class="flex items-center">
                                        <span class="inline-block w-20 text-sm font-medium text-red-700">天罠</span>
                                        <span class="text-sm text-red-600">易造成阴差和阻碍</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="inline-block w-20 text-sm font-medium text-red-700">孤辰</span>
                                        <span class="text-sm text-red-600">易孤独或人际关系不畅</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="inline-block w-20 text-sm font-medium text-red-700">寅火</span>
                                        <span class="text-sm text-red-600">易情绪激动或遇危险</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 神煞应对建议 -->
                <div class="mt-5 p-4 bg-gray-50 rounded-lg">
                    <h4 class="text-sm font-bold text-gray-700 mb-2">应对建议</h4>
                    <p class="text-sm text-gray-600">利用吉神力量，充分发挥文昌星的学习能力和创造力。注意避免天罠带来的阻碍，定期进行身心调整，保持心情平和。</p>
                </div>
            </div>
        </div>

        <!-- 操作按钮 -->
        <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 mb-6">
            <button class="btn-secondary py-3 rounded-lg flex items-center justify-center relative overflow-hidden group" id="save-btn">
                <span class="relative z-10 flex items-center">
                    <i class="fas fa-save mr-2"></i>保存排盘
                </span>
                <span class="absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></span>
            </button>
            <button class="btn-outline py-3 rounded-lg flex items-center justify-center relative overflow-hidden group" id="share-btn">
                <span class="relative z-10 flex items-center">
                    <i class="fas fa-share-alt mr-2"></i>分享结果
                </span>
                <span class="absolute top-0 left-0 w-full h-full bg-indigo-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300"></span>
            </button>
            <button class="btn-primary py-3 rounded-lg flex items-center justify-center relative overflow-hidden group" id="print-btn">
                <span class="relative z-10 flex items-center">
                    <i class="fas fa-print mr-2"></i>打印命盘
                </span>
                <span class="absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></span>
            </button>
        </div>
        
        <!-- 加载中效果 -->
        <div id="loading-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center z-50">
            <div class="text-center">
                <div class="w-20 h-20 mx-auto mb-4 relative">
                    <div class="absolute inset-0 rounded-full border-4 border-t-indigo-500 border-r-transparent border-b-indigo-300 border-l-transparent animate-spin"></div>
                    <div class="absolute inset-3 rounded-full border-4 border-t-pink-500 border-r-transparent border-b-pink-300 border-l-transparent animate-spin" style="animation-direction: reverse; animation-duration: 1.5s;"></div>
                </div>
                <div class="text-white text-xl font-medium">正在计算命盘...</div>
                <div class="text-indigo-200 text-sm mt-2">正在连接宇宙能量场</div>
            </div>
        </div>
    </div>

    <script>
        // 初始化代码
        document.addEventListener('DOMContentLoaded', function() {
            // 模拟加载效果
            const loadingOverlay = document.getElementById('loading-overlay');
            const resultSections = document.querySelectorAll('.result-section');
            const calculateBtn = document.getElementById('calculate-btn');
            const baziColumns = document.querySelectorAll('.bazi-column');
            
            // 初始化GSAP动画
            gsap.config({
                nullTargetWarn: false
            });
            
            // 隐藏结果部分
            resultSections.forEach(section => {
                section.style.display = 'none';
            });
            
            // 为八字柱添加悬停动画
            baziColumns.forEach(column => {
                column.addEventListener('mouseenter', function() {
                    gsap.to(this, {
                        y: -10,
                        scale: 1.05,
                        boxShadow: '0 15px 30px rgba(0, 0, 0, 0.15)',
                        duration: 0.3,
                        ease: 'power2.out'
                    });
                });
                
                column.addEventListener('mouseleave', function() {
                    gsap.to(this, {
                        y: 0,
                        scale: 1,
                        boxShadow: '0 10px 25px rgba(0, 0, 0, 0.1)',
                        duration: 0.3,
                        ease: 'power2.out'
                    });
                });
            });
            
            // 点击计算按钮后的效果
            calculateBtn.addEventListener('click', function() {
                // 按钮动画
                gsap.to(this, {
                    scale: 0.95,
                    duration: 0.1,
                    onComplete: function() {
                        gsap.to(calculateBtn, {
                            scale: 1,
                            duration: 0.1
                        });
                    }
                });
                
                // 显示加载层
                loadingOverlay.style.display = 'flex';
                gsap.fromTo(loadingOverlay, 
                    {opacity: 0},
                    {opacity: 1, duration: 0.3}
                );
                
                // 模拟加载时间
                setTimeout(() => {
                    // 隐藏加载层
                    gsap.to(loadingOverlay, {
                        opacity: 0,
                        duration: 0.5,
                        onComplete: function() {
                            loadingOverlay.style.display = 'none';
                        }
                    });
                    
                    // 显示结果部分并添加动画
                    resultSections.forEach((section, index) => {
                        section.style.display = 'block';
                        section.style.opacity = '0';
                        section.style.transform = 'translateY(30px)';
                        
                        // 逐个显示结果部分，逐渐添加动画
                        setTimeout(() => {
                            gsap.to(section, {
                                opacity: 1,
                                y: 0,
                                duration: 0.8,
                                ease: 'back.out(1.7)'
                            });
                        }, 300 * index);
                    });
                    
                    // 五行分析图表动画
                    setTimeout(() => {
                        animateElementBars();
                    }, 1200);
                    
                    // 八字柱动画
                    animateBaziColumns();
                }, 2000);
            });
            
            // 八字柱动画
            function animateBaziColumns() {
                gsap.from('.bazi-column', {
                    y: 50,
                    opacity: 0,
                    scale: 0.8,
                    stagger: 0.2,
                    duration: 0.8,
                    ease: 'back.out(1.7)',
                    delay: 0.5
                });
            }
            
            // 五行图表动画
            function animateElementBars() {
                const elementFills = document.querySelectorAll('.element-fill');
                const elementPercentages = document.querySelectorAll('.element-percentage');
                
                elementFills.forEach((fill, index) => {
                    const percentage = fill.getAttribute('data-percentage');
                    fill.style.width = '0%';
                    
                    if (elementPercentages[index]) {
                        elementPercentages[index].textContent = '0%';
                    }
                    
                    setTimeout(() => {
                        // 使用GSAP动画填充条
                        gsap.to(fill, {
                            width: percentage + '%',
                            duration: 1.5,
                            ease: 'power2.out'
                        });
                        
                        // 数字计数动画
                        if (elementPercentages[index]) {
                            gsap.to(elementPercentages[index], {
                                innerText: percentage,
                                duration: 1.5,
                                snap: { innerText: 1 },
                                ease: 'power2.out',
                                onUpdate: function() {
                                    elementPercentages[index].textContent = 
                                        Math.round(parseFloat(elementPercentages[index].textContent)) + '%';
                                }
                            });
                        }
                    }, 100 * index);
                });
                
                // 元素图标动画
                gsap.from('.element-icon', {
                    scale: 0.5,
                    opacity: 0,
                    stagger: 0.1,
                    duration: 0.5,
                    ease: 'back.out(1.7)',
                    delay: 0.8
                });
            }
            
            // 添加按钮交互效果
            const saveBtn = document.getElementById('save-btn');
            const shareBtn = document.getElementById('share-btn');
            const printBtn = document.getElementById('print-btn');
            
            [saveBtn, shareBtn, printBtn].forEach(btn => {
                btn.addEventListener('click', function() {
                    gsap.to(this, {
                        scale: 0.95,
                        duration: 0.1,
                        onComplete: function() {
                            gsap.to(btn, {
                                scale: 1,
                                duration: 0.1
                            });
                        }
                    });
                });
            });
            
            saveBtn.addEventListener('click', function() {
                alert('排盘结果已保存！');
            });
            
            shareBtn.addEventListener('click', function() {
                alert('分享功能开发中...');
            });
            
            printBtn.addEventListener('click', function() {
                alert('正在准备打印...');
            });
            
            // 添加元素图标悬停效果
            const elementIcons = document.querySelectorAll('.element-icon');
            
            elementIcons.forEach(icon => {
                icon.addEventListener('mouseenter', function() {
                    gsap.to(this, {
                        scale: 1.2,
                        duration: 0.3,
                        ease: 'back.out(1.7)'
                    });
                });
                
                icon.addEventListener('mouseleave', function() {
                    gsap.to(this, {
                        scale: 1,
                        duration: 0.3,
                        ease: 'power2.out'
                    });
                });
            });
            
            // 初始隐藏加载层
            loadingOverlay.style.display = 'none';
        });
    </script>
</body>
</html>
